/* Extra interactivity styles (search/filter) */
.capability-card{
  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
  will-change: transform, opacity, filter;
  box-shadow: 0 1px 3px rgba(0,0,0,.1);
}
.capability-card:not(.is-dimmed):hover{
  transform: translateY(-3px);
  box-shadow: 0 8px 16px rgba(0,0,0,.15);
  border-color: #3b82f6 !important;
}
.dark .capability-card:not(.is-dimmed):hover{
  box-shadow: 0 8px 20px rgba(0,0,0,.4);
}

/* Dimmed state */
.is-dimmed{
  opacity: .12;
  filter: grayscale(100%);
  pointer-events: none;
  transform: scale(.98);
}

/* Highlighted search hits */
.is-highlighted{
  box-shadow: 0 0 0 2px rgba(59,130,246,1);
  z-index: 10;
}

/* Filter active state */
.filter-btn.active{
  border-color: rgba(59,130,246,1) !important;
  background: rgba(239,246,255,1) !important;
  color: rgba(30,58,138,1) !important;
  box-shadow: inset 0 2px 4px rgba(0,0,0,.06);
}
.dark .filter-btn.active{
  background: rgba(30,41,59,1) !important;
  color: rgba(226,232,240,1) !important;
}

/* Temporary export visibility */
.temp-export-show {
  opacity: 1 !important;
  filter: none !important;
  transform: none !important;
  pointer-events: auto !important;
}

/* Capability reference links in markdown */
.cap-link {
  color: #3b82f6;
  text-decoration: underline;
  font-weight: 500;
  text-decoration-style: dotted;
  transition: all 0.2s ease;
}
.cap-link:hover {
  color: #2563eb;
  text-decoration-style: solid;
}
.dark .cap-link {
  color: #60a5fa;
}
.dark .cap-link:hover {
  color: #93c5fd;
}

/* --- Print --- */
@media print {
  /* Force clean white print */
  html, body { background: #fff !important; color: #000 !important; }
  .no-print { display: none !important; }

  /* Show all cards even if filtered */
  .is-dimmed{
    opacity: 1 !important;
    filter: none !important;
    pointer-events: auto !important;
    transform: none !important;
  }

  /* Avoid heavy shadows */
  .capability-card{ box-shadow: none !important; transform: none !important; }

  /* Reduce paddings for paper */
  main{ padding-top: 0 !important; }
}


/* Simple line clamp without Tailwind plugin */
.line-clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}


/* Hide/show descriptions on cards */
.hide-desc .cap-desc{ display:none !important; }

/* Hide/show optional card parts */
.hide-id .cap-id{ display:none !important; }
.hide-meta .cap-meta{ display:none !important; }
.hide-tags .cap-tags{ display:none !important; }


/* Neutral dark theme tweaks */
.dark ::-webkit-scrollbar-track{ background: #0a0a0a; }
.dark ::-webkit-scrollbar-thumb{ background: #262626; }
.dark ::-webkit-scrollbar-thumb:hover{ background: #404040; }


/* Card sizing: keep cards compact, pack on same row when space allows */
.cap-list{ align-items: stretch; }
.cap-card{ flex: 1 1 260px; max-width: 320px; }
@media (max-width: 640px){ .cap-card{ flex-basis: 100%; max-width: 100%; } }


/* Prose / Markdown Styling */
.prose {
  color: #374151;
  max-width: 65ch;
  line-height: 1.75;
  font-size: 1rem;
}

.dark .prose {
  color: #d1d5db;
}

.prose > * + * {
  margin-top: 1em;
  margin-bottom: 1em;
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: #111827;
  font-weight: 700;
  line-height: 1.25;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.dark .prose h1, .dark .prose h2, .dark .prose h3,
.dark .prose h4, .dark .prose h5, .dark .prose h6 {
  color: #f9fafb;
}

.prose h1 { font-size: 2em; margin-top: 0; }
.prose h2 { font-size: 1.5em; }
.prose h3 { font-size: 1.25em; }
.prose h4 { font-size: 1.125em; }
.prose h5 { font-size: 1em; }
.prose h6 { font-size: 0.875em; }

.prose p {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}

.prose a {
  color: #2563eb;
  text-decoration: underline;
  font-weight: 500;
}

.dark .prose a {
  color: #60a5fa;
}

.prose a:hover {
  color: #1d4ed8;
}

.dark .prose a:hover {
  color: #93c5fd;
}

.prose strong {
  color: #111827;
  font-weight: 700;
}

.dark .prose strong {
  color: #f9fafb;
}

.prose em {
  font-style: italic;
}

.prose code {
  color: #111827;
  background-color: #f3f4f6;
  padding: 0.2em 0.4em;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.dark .prose code {
  color: #f9fafb;
  background-color: #374151;
}

.prose pre {
  background-color: #1f2937;
  color: #e5e7eb;
  overflow-x: auto;
  padding: 1em;
  border-radius: 0.5rem;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  line-height: 1.5;
}

.prose pre code {
  background-color: transparent;
  padding: 0;
  color: inherit;
  font-size: 0.875em;
}

.prose ul, .prose ol {
  padding-left: 1.625em;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}

.prose ul {
  list-style-type: disc;
}

.prose ol {
  list-style-type: decimal;
}

.prose li {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.prose li > p {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

.prose blockquote {
  font-style: italic;
  border-left: 4px solid #e5e7eb;
  padding-left: 1em;
  margin-left: 0;
  margin-right: 0;
  color: #6b7280;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

.dark .prose blockquote {
  border-left-color: #4b5563;
  color: #9ca3af;
}

.prose hr {
  border: 0;
  border-top: 1px solid #e5e7eb;
  margin-top: 2em;
  margin-bottom: 2em;
}

.dark .prose hr {
  border-top-color: #4b5563;
}

.prose del {
  text-decoration: line-through;
  color: #6b7280;
}

.dark .prose del {
  color: #9ca3af;
}
